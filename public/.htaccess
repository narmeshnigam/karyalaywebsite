# Allow access to this directory
<IfModule mod_authz_core.c>
    Require all granted
</IfModule>

# Set index.php as the default directory index
DirectoryIndex index.php index.html

# Disable directory browsing
Options -Indexes

# Enable URL Rewriting
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Handle solution detail pages: /solution/slug -> solution.php?slug=slug
    RewriteRule ^solution/([^/]+)/?$ solution.php?slug=$1 [L,QSA]
    
    # Handle feature detail pages: /feature/slug -> feature.php?slug=slug
    RewriteRule ^feature/([^/]+)/?$ feature.php?slug=$1 [L,QSA]
    
    # Handle case study detail pages: /case-study/slug -> case-study.php?slug=slug
    RewriteRule ^case-study/([^/]+)/?$ case-study.php?slug=$1 [L,QSA]
    
    # Handle blog post detail pages: /blog/slug -> blog-post.php?slug=slug
    RewriteRule ^blog/([^/]+)/?$ blog-post.php?slug=$1 [L,QSA]
    
    # Handle module detail pages: /module/slug -> module.php?slug=slug
    RewriteRule ^module/([^/]+)/?$ module.php?slug=$1 [L,QSA]
</IfModule>

# Security headers
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
</IfModule>

# PHP settings
<IfModule mod_php7.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
</IfModule>
